# Context
Continuing SMT playbook docs. Focus on the "上料防错" flow and how data is generated/managed per step.

# Decisions
- Document loading flow as its own run-flow chapter aligned to SMT flow diagram steps.

# Plan
- Next: write FAI flow, execution/trace, and OQC/closeout docs; then demo data + validation checklists.

# Findings
- verifyLoading/replaceLoading rules include idempotent scans, lock after 3 failures, and replaceReason recorded in LoadingRecord.meta.
- Loading flow depends on RunSlotExpectation generated by load-table; missing mappings block load.

# Progress
- Added `domain_docs/mes/smt_playbook/03_run_flow/03_loading_flow.md`.

# Errors
- None.

# Open Questions
- None.

# References
- apps/server/src/modules/mes/loading/service.ts
- domain_docs/mes/spec/process/03_smt_flows.md
- domain_docs/mes/spec/process/compair/smt_flow_user.md
- domain_docs/mes/spec/process/compair/smt_forms/SMT物料上机对照表.md
- domain_docs/mes/spec/process/compair/smt_forms/SMT生产换料记录表 (QR-Mac-022).md
