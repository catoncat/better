# Product UX Review: Execution（工位执行）

> 说明：本文件是 `product-ux-review` 的**轻量产出示例**（基于当前 UI 代码快速走查），重点只看体验维度，不验证权限/状态机/API 正确性。

## 覆盖页面/组件证据
- `apps/web/src/routes/_authenticated/mes/execution.tsx`
- `apps/web/src/routes/_authenticated/mes/-components/track-out-dialog.tsx`

## 1) 表单/操作效率
- ✅ 工位选择有明确文案，并使用本地存储记忆上次选择，减少重复设置。
- ✅ “待执行批次”卡片可一键预填批次/工单上下文，降低手动选择成本。
- ✅ 进站扫码框默认焦点，支持解析扫码串并自动补全 wo/run，且自动解析失败时提供“重试解析”。
- ✅ 进站成功后清空 SN、保留 wo/run 上下文，契合连续作业习惯。
- ✅ 在站队列提供“出站/报不良”快捷操作，减少切换到右侧表单的路径成本。
- ⚠️ P2: 切换到“扫码出站”Tab 后输入框未自动聚焦 | 影响: 扫码需要额外点击 | 建议: Tab 切换后自动 focus 出站 SN 输入，或提供显式“开始扫码”按钮以触发聚焦。
- ⚠️ P2: 出站结果默认 PASS 很合理，但“报不良”与“FAIL”两条路径心智略分裂 | 影响: 新人不确定该点左侧按钮还是右侧选 FAIL | 建议: 明确文案（例如“右侧用于手动出站/补录”），并在右侧提供与左侧一致的快捷入口（如“报不良并锁定”开关/提示）。

## 2) 空态/异常体验
- ✅ 未绑定工位时提示“联系管理员绑定”，路径清晰。
- ✅ 队列/待进站列表均有空态文案（当前工位没有在站产品、暂无待进站产品等），不会出现纯空白。
- ✅ 进站失败 toast 给出“前往处置”动作按钮，具备恢复引导。
- ✅ 出站弹窗采集项加载态明确（loading spinner + 文案），失败态提供错误原因 + 重试按钮。
- ⚠️ P2: 队列/待进站在首次加载与刷新时的“内容区反馈”偏弱 | 影响: 用户对是否刷新成功不确定 | 建议: 内容区增加 skeleton/行级 loading；刷新后给轻提示（已刷新/更新时间）。
- ⚠️ P2: 扫码解析失败后虽有手动补充区，但缺少“何时需要手动补充”的一句话提示 | 影响: 用户不确定该等自动解析还是直接填 | 建议: 在手动区标题旁补一句触发条件（如“自动解析 1s 内失败再填写”）。

## 3) 信息架构（IA）
- ✅ 左侧“当前队列/待进站”+ 右侧“扫码进站/出站”两栏结构清晰，符合现场“先看队列、再扫码”的流程。
- ✅ 待进站区域对 FAI 试产提供进度条与规则提示，有助于降低误操作。
- ⚠️ P2: 页面顶部缺少“当前工位上下文”持续展示（工位名/线别/工位码） | 影响: 多工位切换时容易混淆 | 建议: 在标题区或 Tabs 顶部固定展示当前工位摘要，并提供“快速切换工位”入口。
- ⚠️ P2: 队列表格里“下一步”信息对决策很关键，建议视觉层级再突出 | 影响: 操作员容易只看当前步骤 | 建议: 对“下一步”加徽标/颜色/对齐，或提供“下一步工位/工序”快速识别。
- ⚠️ P2: 右侧扫码区的“自动解析中/解析失败”提示比较技术化 | 影响: 新手理解成本高 | 建议: 文案更偏操作指导（例如“请继续扫描/或点击重试/或填写手动信息”）。

## 4) 功能划分与路由规划
- ✅ “质量处置”作为异常闭环的独立模块入口明确（toast action 跳转），避免把复杂处置塞进执行页。
- ⚠️ P2: 执行页同时承载“队列管理 + 扫码执行 + 规则提示（FAI）”，信息量偏大 | 影响: 屏幕小或现场注意力分散时易漏关键信息 | 建议: 规划页内分区/折叠（例如 FAI 规则默认折叠、队列与待进站可切换 Tab）。
- ⚠️ P2: “待执行批次”仅展示前 5 条，缺少“查看更多/搜索”入口提示 | 影响: 当现场批次多时不易定位 | 建议: 提供“查看更多/搜索批次”入口，或支持快捷筛选（最近/当前线别）。
- ⚠️ P2: 右侧“手动补充”实际上是异常路径，建议产品层面明确其定位 | 影响: 用户可能误以为必须填写 | 建议: 在结构上更像“高级/异常处理”，默认收起并在解析失败时自动展开并高亮。

## 总结
- P1 共 0 项
- P2 共 12 项
