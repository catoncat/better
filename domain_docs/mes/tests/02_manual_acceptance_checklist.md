# MES 手动验收清单

> 版本：v1.0
> 创建日期：2026-01-19
> 最后更新：2026-01-19
> 目标：覆盖所有 MES 页面和核心功能的端到端手动验收

---

## 概述

本文档提供两种验收方式：
1. **整体验收**：按生产流程顺序走完所有功能（推荐首次验收）
2. **分模块验收**：按功能模块独立验收（适合迭代开发后的回归验收）

### 验收状态标记

- TODO 未开始
- IN_PROGRESS 进行中
- OK 通过
- NO 失败（需记录问题）
- SKIPPED 跳过（说明原因）

---

## 第一部分：整体验收流程（推荐）

> 按照真实生产流程顺序，从主数据配置到生产执行再到质量闭环。

### 阶段 0：环境准备

| # | 步骤 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 0.1 | 数据库重置 | `bun run db:seed` | Seed 成功，无报错 | TODO |
| 0.2 | 服务启动 | `bun run dev` | server + web 正常启动 | TODO |
| 0.3 | 登录系统 | 使用管理员账号登录 | 进入首页，左侧菜单可见 | TODO |

---

### 阶段 1：主数据配置（工艺工程师角色）

> 目标：理解并验证"从零配置一条产线"的流程

#### 1.1 物料主数据

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.1.1 | `/mes/materials` | 查看物料列表 | 显示 seed 预置的物料数据 | TODO |
| 1.1.2 | `/mes/materials` | 新建物料 | 填写编码/名称/规格，保存成功 | TODO |
| 1.1.3 | `/mes/materials` | 编辑物料 | 修改字段，保存成功 | TODO |

#### 1.2 BOM 配置

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.2.1 | `/mes/boms` | 查看 BOM 列表 | 显示 seed 预置的 BOM | TODO |
| 1.2.2 | `/mes/boms` | 理解 BOM 结构 | 父项（成品）→ 子项（原材料）的层级关系 | TODO |
| 1.2.3 | `/mes/boms` | 新建/编辑 BOM | 添加 BOM 项，关联物料 | TODO |

**BOM 与上料的关系说明：**
- BOM 定义产品需要哪些物料
- 上料防错验证实际上料是否与 BOM 匹配
- 就绪检查中的 MATERIAL 检查会校验 BOM 物料是否齐套

#### 1.3 工作中心/工位组

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.3.1 | `/mes/work-centers` | 查看工作中心列表 | 显示 seed 预置的工作中心 | TODO |
| 1.3.2 | - | 理解工作中心概念 | 工作中心 = 一组可互换的工位（如多台 SPI 设备） | TODO |

**工作中心与路由的关系说明：**
- 路由步骤绑定工作中心（stationGroupId）
- 执行时，Unit 可在该工作中心内的任意工位执行
- 这解释了为什么同一工位可以执行多个步骤（如果步骤都绑定同一工作中心）

#### 1.4 路由管理（核心）

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.4.1 | `/mes/routes` | 查看路由列表 | 显示 PCBA-STD-V1 等路由 | TODO |
| 1.4.2 | `/mes/routes/$routingCode` | 进入路由详情 | 看到步骤列表和配置 | TODO |
| 1.4.3 | 路由详情 | 理解步骤结构 | 每步包含：序号、工序、工作中心、采集项 | TODO |
| 1.4.4 | 路由详情 | 添加/编辑步骤 | 配置步骤的工序和工作中心 | TODO |
| 1.4.5 | 路由详情 | 绑定采集项 | 从采集项列表选择并绑定到步骤 | TODO |

#### 1.5 采集项管理

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.5.1 | `/mes/data-collection-specs` | 查看采集项列表 | 显示 seed 预置的采集项 | TODO |
| 1.5.2 | `/mes/data-collection-specs` | 新建采集项 | 填写名称/类型/工序/规格，保存成功 | TODO |
| 1.5.3 | `/mes/data-collection-specs` | 理解采集项类型 | NUMBER（数值）、TEXT（文本）、ENUM（枚举） | TODO |
| 1.5.4 | `/mes/data-collection-specs` | 理解采集方式 | MANUAL（手动）、AUTO（自动） | TODO |

**采集项与执行的关系说明：**
- 采集项定义 TrackOut 时需要录入的数据
- 路由步骤绑定采集项后，该步骤的 TrackOut 会显示对应输入框
- 必填项未填写会阻止 TrackOut

#### 1.6 路由版本管理

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 1.6.1 | `/mes/route-versions` | 查看版本列表 | 显示各路由的版本记录 | TODO |
| 1.6.2 | `/mes/routes/$routingCode` | 编译路由 | 生成新的 DRAFT 版本 | TODO |
| 1.6.3 | `/mes/routes/$routingCode` | 发布版本 | DRAFT → READY，可用于生产 | TODO |

**版本状态说明：**
- DRAFT：编辑中，不可用于创建批次
- READY：已发布，可用于创建批次
- DEPRECATED：已废弃

---

### 阶段 2：上料配置（产线组长角色）

> 目标：理解并验证槽位配置和上料防错的完整流程

#### 2.1 槽位配置（Slot Config）

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 2.1.1 | `/mes/loading/slot-config` | 查看槽位列表 | 显示产线的飞达槽位配置 | TODO |
| 2.1.2 | 槽位配置 | 选择产线 | 切换产线，显示对应槽位 | TODO |
| 2.1.3 | 槽位配置 | 新建槽位 | 填写槽位编码（如 F001）、位置描述 | TODO |
| 2.1.4 | 槽位配置 | 配置物料映射 | 选择产品 → 为槽位绑定物料编码 | TODO |
| 2.1.5 | 槽位配置 | 理解映射关系 | 同一槽位对不同产品可映射不同物料 | TODO |

**槽位配置核心概念：**
```
FeederSlot（飞达槽位）
├── slotCode: "F001"
├── lineId: 产线ID
└── description: "左侧第1飞达"

SlotMaterialMapping（槽位物料映射）
├── slotId: → FeederSlot
├── productMaterialCode: 产品编码（如 P-1001）
└── materialCode: 物料编码（如 MAT-001）

含义：当生产产品 P-1001 时，槽位 F001 应上料 MAT-001
```

#### 2.2 上料防错操作

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 2.2.1 | `/mes/loading` | 选择批次 | 输入/选择批次号，加载站位表 | TODO |
| 2.2.2 | 上料防错 | 理解站位表 | 显示该批次需要的所有槽位和期望物料 | TODO |
| 2.2.3 | 上料防错 | 扫码上料 - 正确 | 扫描正确物料条码，显示"上料成功" | TODO |
| 2.2.4 | 上料防错 | 扫码上料 - 错误 | 扫描错误物料，显示错误提示并阻断 | TODO |
| 2.2.5 | 上料防错 | 重复扫描 | 同一物料重复扫描，显示"已上料（幂等）" | TODO |
| 2.2.6 | 上料防错 | 换料操作 | 解锁槽位 → 扫描新物料 → 记录换料 | TODO |
| 2.2.7 | 上料防错 | 上料完成确认 | 所有槽位上料完成，状态变为"已完成" | TODO |

**物料条码格式说明：**
```
格式：物料编码|批次号
示例：MAT-001|LOT-2024-001
```

---

### 阶段 3：准备检查配置（工艺工程师角色）

> 目标：理解并验证就绪检查的配置和执行

#### 3.1 准备检查配置

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 3.1.1 | `/mes/readiness-config` | 查看产线列表 | 显示所有产线 | TODO |
| 3.1.2 | 准备配置 | 选择产线 | 显示该产线的就绪检查项配置 | TODO |
| 3.1.3 | 准备配置 | 启用/禁用检查项 | 切换 ROUTE/LOADING/EQUIPMENT 等开关 | TODO |
| 3.1.4 | 准备配置 | 理解检查项 | 见下表 | TODO |

**就绪检查项说明：**

| 检查项 | 说明 | 数据来源 |
|--------|------|----------|
| ROUTE | 路由版本可用 | RouteVersion.status = READY |
| LOADING | 上料完成 | RunSlotExpectation 全部 verified |
| EQUIPMENT | 设备状态正常 | TpmEquipment.status = "normal" |
| MATERIAL | BOM 物料齐套 | Material 库存检查 |
| STENCIL | 钢网状态合规 | LineStencil + StencilStatusRecord |
| SOLDER_PASTE | 锡膏状态合规 | LineSolderPaste + SolderPasteStatusRecord |

#### 3.2 准备异常查看

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 3.2.1 | `/mes/readiness-exceptions` | 查看异常列表 | 显示就绪检查失败的记录 | TODO |
| 3.2.2 | 准备异常 | 理解异常状态 | OPEN（待处理）→ RESOLVED（已解决） | TODO |
| 3.2.3 | 准备异常 | 豁免操作 | 选择异常 → 填写原因 → 豁免通过 | TODO |

---

### 阶段 4：集成与运维（系统管理员角色）

> 目标：理解外部系统集成和降级处理

#### 4.1 集成状态监控

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 4.1.1 | `/mes/integration/status` | 查看集成状态 | 显示各外部系统的连接状态 | TODO |
| 4.1.2 | 集成状态 | 理解状态含义 | ONLINE/OFFLINE/DEGRADED | TODO |

#### 4.2 耗材状态录入（降级模式）

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 4.2.1 | `/mes/integration/manual-entry` | 进入手动录入页面 | 显示钢网/锡膏录入表单 | TODO |
| 4.2.2 | 耗材录入 | 录入钢网状态 | 选择产线 → 输入钢网编号 → 选择状态 → 保存 | TODO |
| 4.2.3 | 耗材录入 | 录入锡膏状态 | 选择产线 → 输入锡膏批次 → 输入有效期 → 保存 | TODO |
| 4.2.4 | 返回就绪检查 | 验证数据生效 | 就绪检查中显示录入的钢网/锡膏状态 | TODO |

**降级模式使用场景：**
- TPM 系统离线时，手动录入设备状态
- WMS 系统离线时，手动录入钢网/锡膏状态
- 需要填写降级原因，记录审计日志

---

### 阶段 5：生产执行（操作员/组长角色）

> 这部分我们已在之前的验收中完成，这里补充关键检查点

#### 5.1 工单与批次

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 5.1.1 | `/mes/work-orders` | 接收工单 | PENDING → RECEIVED | OK 已验收 |
| 5.1.2 | `/mes/work-orders` | 释放工单 | RECEIVED → RELEASED | OK 已验收 |
| 5.1.3 | `/mes/runs` | 创建批次 | 选择工单+产线+路由，创建成功 | OK 已验收 |
| 5.1.4 | `/mes/runs/$runNo` | 执行就绪检查 | 显示各检查项状态 | OK 已验收 |
| 5.1.5 | `/mes/runs/$runNo` | 授权批次 | PREP → AUTHORIZED | OK 已验收 |

#### 5.2 首件检验 (FAI)

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 5.2.1 | `/mes/fai` | 创建 FAI | 选择批次，填写样本数 | OK 已验收 |
| 5.2.2 | `/mes/fai` | 开始 FAI | FAI 状态 → INSPECTING | OK 已验收 |
| 5.2.3 | `/mes/execution` | 试产执行 | Run=PREP 时执行试产 TrackIn/Out | OK 已验收 |
| 5.2.4 | `/mes/fai` | 完成判定 | 记录检验项 → PASS/FAIL | OK 已验收 |

#### 5.3 批量执行

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 5.3.1 | `/mes/execution` | TrackIn | Unit 进站，状态 → IN_STATION | OK 已验收 |
| 5.3.2 | `/mes/execution` | TrackOut - PASS | Unit 推进到下一步 | OK 已验收 |
| 5.3.3 | `/mes/execution` | TrackOut - FAIL | 弹出不良记录对话框，记录缺陷 | OK 已验收 |
| 5.3.4 | `/mes/runs/$runNo` | 收尾 (Closeout) | 所有 Unit 完成后触发 | OK 已验收 |

---

### 阶段 6：质量闭环（质量工程师角色）

> 目标：验证 OQC 和 MRB 的完整流程

#### 6.1 OQC 规则配置

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 6.1.1 | `/mes/oqc/rules` | 查看规则列表 | 显示现有 OQC 规则 | TODO |
| 6.1.2 | OQC 规则 | 新建规则 | 填写触发条件和抽检数量 | TODO |
| 6.1.3 | OQC 规则 | 理解规则字段 | 产品范围、抽检比例/数量、启用状态 | TODO |

**OQC 规则示例：**
```
规则名称：SMT 默认抽检
适用产品：全部（或指定产品编码）
抽检方式：按数量（3件）或按比例（10%）
触发条件：批次收尾 (Closeout) 时
```

#### 6.2 OQC 任务执行

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 6.2.1 | `/mes/oqc` | 查看 OQC 任务列表 | 显示待检/进行中/已完成的任务 | TODO |
| 6.2.2 | OQC 列表 | 开始检验 | 选择任务 → 开始检验 | TODO |
| 6.2.3 | OQC 列表 | 记录检验结果 | 按抽样 Unit 逐个记录 PASS/FAIL | TODO |
| 6.2.4 | OQC 列表 | 完成判定 - PASS | OQC 通过 → Run 状态 COMPLETED | TODO |
| 6.2.5 | OQC 列表 | 完成判定 - FAIL | OQC 失败 → Run 状态 ON_HOLD | TODO |

#### 6.3 缺陷处置

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 6.3.1 | `/mes/defects` | 查看缺陷列表 | 显示待处置的不良 Unit | OK 已验收 |
| 6.3.2 | 缺陷处置 | 选择处置方式 | 返工 / 报废 / 让步放行 | OK 已验收 |
| 6.3.3 | 缺陷处置 | 返工处置 | 创建返工任务，指定返工步骤 | OK 已验收 |
| 6.3.4 | 缺陷处置 | 报废处置 | Unit 状态 → SCRAPPED | OK 已验收 |

#### 6.4 返工任务

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 6.4.1 | `/mes/rework-tasks` | 查看返工任务列表 | 显示 OPEN/IN_PROGRESS/COMPLETED | OK 已验收 |
| 6.4.2 | 返工任务 | 理解返工流程 | 返工任务 → 执行页完成 → 任务关闭 | TODO 待验证 |
| 6.4.3 | 返工任务 | 手动完成任务 | 填写返工结果 → 关闭任务 | TODO 待验证 |

#### 6.5 MRB 决策

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 6.5.1 | OQC 失败后 | 触发 MRB | Run 进入 ON_HOLD，等待 MRB 决策 | TODO |
| 6.5.2 | MRB 决策 | 放行 | Run 状态 → COMPLETED | TODO |
| 6.5.3 | MRB 决策 | 返修 | 创建返修任务，Run 状态 → IN_PROGRESS | TODO |
| 6.5.4 | MRB 决策 | 报废 | 批次整体报废 | TODO |

---

### 阶段 7：追溯验证（质量/工程角色）

> 目标：验证生产数据的完整追溯能力

#### 7.1 追溯查询

| # | 页面 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| 7.1.1 | `/mes/trace` | 输入 SN 查询 | 输入完整 SN，查询生产记录 | TODO |
| 7.1.2 | 追溯查询 | 查看基本信息 | 显示 Unit 状态、批次、工单、产品 | TODO |
| 7.1.3 | 追溯查询 | 查看路由信息 | 显示使用的路由和版本 | TODO |
| 7.1.4 | 追溯查询 | 查看执行历史 | 显示每步的 TrackIn/Out 时间、工位、操作员 | TODO |
| 7.1.5 | 追溯查询 | 查看采集数据 | 显示 TrackOut 时录入的数据值 | TODO |
| 7.1.6 | 追溯查询 | 查看上料记录 | 显示物料批次、槽位、上料时间 | TODO |
| 7.1.7 | 追溯查询 | 查看检验记录 | 显示 FAI/OQC 记录 | TODO |
| 7.1.8 | 追溯查询 | 查看不良记录 | 显示缺陷代码、处置方式、返工记录 | TODO |

**追溯数据完整性检查：**
- [ ] 能追溯到使用的物料批次
- [ ] 能追溯到经过的每个工位
- [ ] 能追溯到每步的操作员
- [ ] 能追溯到采集的过程数据
- [ ] 能追溯到检验结果和处置决策

---

## 第二部分：分模块验收清单

> 适合迭代开发后的回归验收，每个模块可独立执行

### 模块 A：主数据管理

**前置条件：** 数据库已重置 (`bun run db:seed`)

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| A1 物料 | `/mes/materials` | 查看/新建/编辑物料 | 10min |
| A2 BOM | `/mes/boms` | 查看/理解 BOM 结构 | 10min |
| A3 工作中心 | `/mes/work-centers` | 查看/理解工位组概念 | 5min |
| A4 路由 | `/mes/routes` | 查看/配置步骤/绑定采集项 | 20min |
| A5 采集项 | `/mes/data-collection-specs` | 新建/编辑/启用禁用 | 15min |
| A6 路由版本 | `/mes/route-versions` | 编译/发布版本 | 10min |

**验收目标：** 完成一条新路由的完整配置（步骤+采集项+发布）

---

### 模块 B：上料防错

**前置条件：** 已有可用批次（PREP 状态）

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| B1 槽位配置 | `/mes/loading/slot-config` | 查看/新建槽位/配置映射 | 15min |
| B2 上料验证 | `/mes/loading` | 加载站位表/扫码/换料 | 20min |

**验收目标：**
1. 配置一个新槽位并绑定物料
2. 正确上料场景（扫码成功）
3. 错误上料场景（扫码被拒）
4. 换料场景（解锁→重新上料）

---

### 模块 C：就绪检查

**前置条件：** 已有可用批次（PREP 状态）

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| C1 检查配置 | `/mes/readiness-config` | 启用/禁用检查项 | 10min |
| C2 检查执行 | `/mes/runs/$runNo` | 执行检查/查看结果 | 10min |
| C3 异常处理 | `/mes/readiness-exceptions` | 查看异常/豁免操作 | 10min |

**验收目标：**
1. 启用全部 6 项检查（ROUTE/LOADING/EQUIPMENT/MATERIAL/STENCIL/SOLDER_PASTE）
2. 验证检查失败场景（缺少数据时）
3. 验证豁免流程

---

### 模块 D：集成降级

**前置条件：** 无（独立模块）

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| D1 状态监控 | `/mes/integration/status` | 查看集成状态 | 5min |
| D2 手动录入 | `/mes/integration/manual-entry` | 录入钢网/锡膏状态 | 15min |

**验收目标：**
1. 手动录入钢网状态 → 就绪检查通过
2. 手动录入锡膏状态 → 就绪检查通过

---

### 模块 E：生产执行（已验收）

**前置条件：** 已授权批次（AUTHORIZED 状态）

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| E1 工单管理 | `/mes/work-orders` | 接收/释放 | 10min |
| E2 批次管理 | `/mes/runs` | 创建/详情/授权 | 15min |
| E3 FAI | `/mes/fai` | 创建/试产/判定 | 20min |
| E4 执行 | `/mes/execution` | TrackIn/Out/报不良 | 20min |

---

### 模块 F：质量闭环

**前置条件：** 已有待处置的不良 Unit 或已收尾批次

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| F1 OQC 规则 | `/mes/oqc/rules` | 配置抽检规则 | 10min |
| F2 OQC 执行 | `/mes/oqc` | 检验/判定 | 15min |
| F3 缺陷处置 | `/mes/defects` | 返工/报废 | 15min |
| F4 返工任务 | `/mes/rework-tasks` | 查看/完成返工 | 10min |

**验收目标：**
1. 配置 OQC 规则 → 触发 OQC 任务
2. OQC PASS → 批次完工
3. OQC FAIL → MRB 决策

---

### 模块 G：追溯

**前置条件：** 已有完成的生产批次

| 子模块 | 页面 | 核心场景 | 耗时 |
|--------|------|----------|------|
| G1 追溯查询 | `/mes/trace` | 查询/验证完整性 | 15min |

**验收目标：** 验证追溯数据包含：物料批次、工位记录、采集数据、检验记录

---

## 第三部分：门禁验证清单

> 关键业务规则的负面测试

| # | 场景 | 操作 | 预期结果 | 状态 |
|---|------|------|----------|------|
| G1 | 就绪未通过时授权 | 就绪检查有失败项 → 点击授权 | 被拦截，提示"请先完成就绪检查" | TODO |
| G2 | FAI 未通过时授权 | FAI=FAIL → 点击授权 | 被拦截，提示"FAI 未通过" | TODO |
| G3 | 未授权时进站 | Run=PREP → TrackIn | 被拦截，提示"批次未授权" | TODO |
| G4 | 错误物料上料 | 扫描非期望物料 | 被拦截，显示物料不匹配 | TODO |
| G5 | FAIL 后继续进站 | Unit=OUT_FAILED → TrackIn | 被拦截 (**当前有 Bug 5.4.1**) | TODO |
| G6 | 已完成再进站 | Unit=DONE → TrackIn | 被拦截，提示"Unit 已完成" | TODO |
| G7 | 跳步执行 | Unit 在 Step 1 → 尝试 Step 3 | 被拦截，提示"请先完成 Step 2" | TODO |

---

## 第四部分：验收问题记录模板

```markdown
### 问题 #X

**发现日期：** 2026-01-XX
**验收阶段：** 阶段 X.X
**页面路径：** /mes/xxx
**优先级：** P0/P1/P2

**问题描述：**
[具体描述发现的问题]

**重现步骤：**
1. ...
2. ...
3. ...

**预期行为：**
[系统应该如何表现]

**实际行为：**
[系统实际如何表现]

**截图/日志：**
[如有]

**关联文件：**
- `apps/web/src/...`
- `apps/server/src/...`
```

---

## 附录：页面清单

### MES 所有页面

| 分类 | 页面 | 路径 | 角色 |
|------|------|------|------|
| 生产执行 | 工单管理 | `/mes/work-orders` | 计划 |
| 生产执行 | 批次管理 | `/mes/runs` | 计划/组长 |
| 生产执行 | 批次详情 | `/mes/runs/$runNo` | 全员 |
| 生产执行 | 工位执行 | `/mes/execution` | 操作员 |
| 生产执行 | 追溯查询 | `/mes/trace` | 质量/工程 |
| 准备防错 | 准备异常 | `/mes/readiness-exceptions` | 组长/工程 |
| 准备防错 | 准备配置 | `/mes/readiness-config` | 工程 |
| 准备防错 | 上料防错 | `/mes/loading` | 操作员 |
| 准备防错 | 槽位配置 | `/mes/loading/slot-config` | 工程 |
| 质量管理 | 首件检验 | `/mes/fai` | 质量 |
| 质量管理 | 出货检验 | `/mes/oqc` | 质量 |
| 质量管理 | OQC 规则 | `/mes/oqc/rules` | 质量 |
| 质量管理 | 缺陷处置 | `/mes/defects` | 质量 |
| 质量管理 | 返工任务 | `/mes/rework-tasks` | 质量/操作员 |
| 主数据 | 路由管理 | `/mes/routes` | 工程 |
| 主数据 | 路由详情 | `/mes/routes/$routingCode` | 工程 |
| 主数据 | 采集项 | `/mes/data-collection-specs` | 工程 |
| 主数据 | 路由版本 | `/mes/route-versions` | 工程 |
| 主数据 | 物料 | `/mes/materials` | 工程 |
| 主数据 | BOM | `/mes/boms` | 工程 |
| 主数据 | 工作中心 | `/mes/work-centers` | 工程 |
| 集成运维 | 集成状态 | `/mes/integration/status` | 管理员 |
| 集成运维 | 耗材录入 | `/mes/integration/manual-entry` | 管理员 |

---

## 验收时间估算

| 方式 | 范围 | 预估时间 |
|------|------|----------|
| 整体验收 | 全部 7 阶段 | 4-6 小时 |
| 模块验收 | 单个模块 | 30-60 分钟 |
| 门禁验证 | 7 个场景 | 30 分钟 |

---

## 历史验收记录

### 2026-01-19 端到端验收 #1

**范围：** 阶段 1-7（主流程）
**结果：** 主流程通过，发现 24 个问题
**关键发现：**
- P0 Bug: 5.4.1 TrackOut FAIL 后 Unit 仍可进站
- P1 Bug: 5.5.1 返工步骤可任意选择
- 多处 UX 改进项（详见 `tasks.md` 第5节）

**跳过内容：**
- 阶段 1 主数据配置（使用 seed 数据）
- 阶段 2 槽位配置（使用 seed 数据）
- 阶段 6.1-6.2 OQC 规则配置和执行
- 阶段 7 追溯查询
