# 系统管理员 (Admin) 操作指南

## 角色概述

系统管理员负责整个系统的配置和用户管理，拥有最高级别的管理权限。

| 属性 | 值 |
|------|-----|
| 角色代码 | `admin` |
| 数据范围 | 全部 (ALL) |
| 默认首页 | `/system/user-management` |

## 权限清单

### 系统管理
- ✓ 用户管理 (`system:user_manage`)
- ✓ 角色管理 (`system:role_manage`)
- ✓ 系统配置 (`system:config`)
- ✓ 集成管理 (`system:integration`)

### 查看权限
- ✓ 查看工单 (`wo:read`)
- ✓ 查看批次 (`run:read`)
- ✓ 查看路由 (`route:read`)
- ✓ 查看执行 (`exec:read`)
- ✓ 追溯查询 (`trace:read`)

## 可访问菜单

```
系统管理
├── 用户管理      /system/user-management
├── 角色管理      /system/role-management
├── 系统设置      /system/settings
└── 集成管理      /system/integrations

生产执行（只读）
├── 工单管理      /mes/work-orders
├── 批次管理      /mes/runs
├── 路由管理      /mes/routes
├── 路由版本      /mes/route-versions
├── 工位执行      /mes/execution
└── 追溯查询      /mes/trace

通知中心          /notifications
```

---

## 核心功能操作

### 1. 用户管理

#### 1.1 查看用户列表
1. 导航至 **系统管理 → 用户管理**
2. 使用搜索框按用户名/邮箱筛选
3. 查看用户的角色分配和状态

#### 1.2 创建新用户
1. 点击 **新建用户** 按钮
2. 填写用户信息：
   - 用户名（必填）
   - 邮箱（必填）
   - 姓名
   - 初始密码
3. 分配角色（可多选）
4. 如角色需要，配置产线/工位绑定
5. 点击 **保存**

#### 1.3 编辑用户
1. 在用户列表中找到目标用户
2. 点击 **编辑** 按钮
3. 修改用户信息或角色分配
4. 点击 **保存**

#### 1.4 禁用/启用用户
1. 在用户列表中找到目标用户
2. 点击用户行的 **更多操作**
3. 选择 **禁用** 或 **启用**

> **注意**: 禁用用户后，该用户将无法登录系统，但数据会保留。

---

### 2. 角色管理

#### 2.1 查看角色列表
1. 导航至 **系统管理 → 角色管理**
2. 查看系统预设角色和自定义角色

#### 2.2 创建自定义角色
1. 点击 **新建角色** 按钮
2. 填写角色信息：
   - 角色代码（唯一标识，英文）
   - 角色名称（显示名）
   - 描述
3. 选择权限点（可按功能域分组选择）
4. 设置数据范围：
   - **全部**: 可访问所有数据
   - **分配的产线**: 仅访问绑定产线
   - **分配的工位**: 仅访问绑定工位
5. 点击 **保存**

#### 2.3 编辑角色权限
1. 在角色列表中找到目标角色
2. 点击 **编辑** 按钮
3. 修改权限配置
4. 点击 **保存**

> **注意**: 系统预设角色（带系统标识）不可删除，但可以修改名称和描述。

---

### 3. 系统设置

#### 3.1 基础配置
1. 导航至 **系统管理 → 系统设置**
2. 配置系统基础参数：
   - 系统名称
   - 时区设置
   - 日期格式
   - 其他全局配置

---

### 4. 集成管理

#### 4.1 查看集成状态
1. 导航至 **系统管理 → 集成管理**
2. 查看外部系统集成状态

#### 4.2 配置 ERP 集成
1. 选择 ERP 集成配置
2. 配置连接参数
3. 测试连接
4. 启用集成

---

## 常见场景

### 场景1: 新员工入职
1. 创建用户账号
2. 根据岗位分配角色
3. 如是产线组长/操作员，绑定对应产线/工位
4. 通知员工初始密码

### 场景2: 员工离职
1. 禁用用户账号（保留数据追溯）
2. 或删除用户（如无需保留）

### 场景3: 岗位调整
1. 编辑用户角色分配
2. 更新产线/工位绑定（如需要）

---

## 注意事项

1. **权限最小化原则**: 只分配用户工作所需的最小权限
2. **定期审查**: 定期检查用户权限，移除不再需要的权限
3. **密码安全**: 建议要求用户首次登录后修改密码
4. **角色组合**: 可为用户分配多个角色以满足跨职能需求
