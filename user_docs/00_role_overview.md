# 用户角色权限概览

本系统采用基于角色的访问控制（RBAC），每个用户可被分配一个或多个角色。本文档提供各角色的权限概览和快速导航。

## 角色一览表

| 角色 | 说明 | 数据范围 | 默认首页 |
|------|------|----------|----------|
| [系统管理员](./01_admin.md) | 系统配置、用户管理、集成管理 | 全部 | 用户管理 |
| [生产计划员](./02_planner.md) | 工单接收/发布、批次创建/授权/关闭 | 全部 | 工单管理 |
| [工艺工程师](./03_engineer.md) | 路由配置、执行语义设置、版本编译 | 全部 | 路由管理 |
| [质量工程师](./04_quality.md) | 质量检验、缺陷处置、准备检查/豁免 | 全部 | 追溯查询 |
| [物料员](./05_material.md) | 上料验证、物料装载与换料 | 分配的产线 | 上料防错 |
| [操作员](./06_operator.md) | 工位进站/出站操作、数据采集 | 分配的工位 | 工位执行 |
| [追溯审计员](./07_trace.md) | 追溯查询、报告导出 | 全部 | 追溯查询 |

## 功能权限矩阵

| 功能模块 | 管理员 | 计划员 | 工程师 | 质量 | 物料 | 操作员 | 追溯 |
|----------|:------:|:------:|:------:|:----:|:----:|:------:|:----:|
| **系统管理** |
| 用户管理 | ✓ | - | - | - | - | - | - |
| 角色管理 | ✓ | - | - | - | - | - | - |
| 系统设置 | ✓ | - | - | - | - | - | - |
| 集成管理 | ✓ | - | ✓ | - | - | - | - |
| **工单管理** |
| 查看工单 | ✓ | ✓ | ✓ | ✓ | - | - | - |
| 接收工单 | - | ✓ | - | - | - | - | - |
| 发布工单 | - | ✓ | - | - | - | - | - |
| 更新工单 | - | ✓ | - | - | - | - | - |
| **批次管理** |
| 查看批次 | ✓ | ✓ | ✓ | ✓ | ✓ | - | - |
| 创建批次 | - | ✓ | - | - | - | - | - |
| 授权批次 | - | ✓ | - | - | - | - | - |
| 撤销授权 | - | ✓ | - | - | - | - | - |
| 批次收尾确认 | - | ✓ | - | - | - | - | - |
| **就绪检查** |
| 查看检查结果 | ✓ | ✓ | ✓ | ✓ | - | ✓ | - |
| 手动录入(降级) | - | - | - | ✓ | - | - | - |
| 豁免检查项 | - | - | - | ✓ | - | - | - |
| **上料防错** |
| 查看上料记录 | ✓ | - | - | - | ✓ | ✓ | - |
| 执行上料验证 | - | - | - | - | ✓ | ✓ | - |
| **路由管理** |
| 查看路由 | ✓ | ✓ | ✓ | - | - | - | - |
| 配置路由 | - | - | ✓ | - | - | - | - |
| 编译路由 | - | - | ✓ | - | - | - | - |
| 创建路由 | - | - | ✓ | - | - | - | - |
| **工位执行** |
| 查看执行 | ✓ | - | - | ✓ | - | - | - |
| 进站操作 | - | - | - | - | - | ✓ | - |
| 出站操作 | - | - | - | - | - | ✓ | - |
| 数据采集 | - | - | - | - | - | ✓ | - |
| 手动录入检测结果 | - | - | - | - | - | ✓ | - |
| 钢网清洗记录 | - | - | - | - | - | ✓ | - |
| 刮刀点检记录 | - | - | - | - | - | ✓ | - |
| **质量管理** |
| 首件检验 | - | - | - | ✓ | - | - | - |
| FAI 签字 | - | - | - | ✓ | - | - | - |
| 出货检验 | - | - | - | ✓ | - | - | - |
| 缺陷处置 | - | - | - | ✓ | - | - | - |
| 准备项豁免 | - | - | ✓ | ✓ | - | - | - |
| 时间规则豁免 | - | - | - | ✓ | - | - | - |
| 维修验证 | - | - | - | ✓ | - | - | - |
| **追溯查询** |
| 追溯查询 | ✓ | ✓ | ✓ | ✓ | - | ✓ | ✓ |
| 导出报告 | - | - | - | ✓ | - | - | ✓ |

> 说明：批次收尾确认仅在批次终态（`COMPLETED` / `CLOSED_REWORK` / `SCRAPPED`）后可进行。

## 数据范围说明

系统支持三种数据访问范围：

1. **全部 (ALL)**: 可访问所有产线和工位的数据
2. **分配的产线 (ASSIGNED_LINES)**: 仅能访问绑定产线的数据
3. **分配的工位 (ASSIGNED_STATIONS)**: 仅能访问绑定工位的数据

> 注意：用户可以同时拥有多个角色，权限将合并计算。例如，一个现场负责人可能同时拥有`material`和`planner`角色。

## 快速入门

1. 找到您的角色对应的操作指南
2. 阅读该角色的核心功能说明
3. 按照步骤指引完成日常操作

如需帮助，请联系系统管理员。
