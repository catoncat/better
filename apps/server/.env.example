DATABASE_URL=file:./data/db.db
BETTER_AUTH_SECRET=QxhBmviKRRgCRiip8lVLwd/BTyqRUAqr/sT2A/pX1Ue+U8lbIIqos1VScsnYSzEi
APP_URL=http://localhost:3001
DEFAULT_USER_PASSWORD=ChangeMe123!
RESEND_API_KEY=
RESEND_FROM=noreply@googl.cloud
AUTH_EMAIL_DEV_FALLBACK=true
SEED_ADMIN_EMAIL=admin@example.com
SEED_ADMIN_PASSWORD=ChangeMe123!
SEED_ADMIN_NAME=Admin
APP_TIMEZONE=Asia/Shanghai

# MES integration cron schedules
MES_INTEGRATION_CRON_ENABLED=false
MES_INTEGRATION_ERP_ROUTE_CRON=0 */2 * * *
MES_INTEGRATION_ERP_WORK_ORDER_CRON=0 */4 * * *
MES_INTEGRATION_ERP_MATERIAL_CRON=0 */6 * * *
MES_INTEGRATION_ERP_BOM_CRON=0 */6 * * *
MES_INTEGRATION_ERP_WORK_CENTER_CRON=0 */6 * * *
MES_INTEGRATION_TPM_EQUIPMENT_CRON=0 */2 * * *
MES_INTEGRATION_TPM_STATUS_LOG_CRON=0 */2 * * *
MES_INTEGRATION_TPM_MAINTENANCE_TASK_CRON=0 */4 * * *

# MES outbound feedback (optional)
MES_OUTBOUND_FEEDBACK_ENABLED=false
MES_OUTBOUND_ERP_BASE_URL=
MES_OUTBOUND_ERP_PATH=/api/mes/outbound/erp/feedback
MES_OUTBOUND_ERP_API_KEY=

# Server listen options (dev defaults)
HOST=0.0.0.0
PORT=3000

# HTTPS (production: set both, and use https:// APP_URL)
APP_TLS_CERT_PATH=
APP_TLS_KEY_PATH=

# Web serving (dev: keep off and use Vite proxy; prod: default embedded if NODE_ENV=production)
APP_WEB_MODE=off
# APP_WEB_DIR=/absolute/path/to/web/dist

# Audit log archive (optional)
AUDIT_ARCHIVE_ENABLED=false
AUDIT_ARCHIVE_CRON=0 3 1 * *
AUDIT_ARCHIVE_CUTOFF_DAYS=90
AUDIT_ARCHIVE_BATCH_SIZE=1000
AUDIT_ARCHIVE_DIR=data/audit-archives

# MES integrations (TPM)
MES_TPM_BASE_URL=
MES_TPM_API_KEY=
MES_TPM_EQUIPMENT_PATH=/api/tpm/equipment
MES_TPM_STATUS_LOG_PATH=/api/tpm/status-logs
MES_TPM_MAINTENANCE_TASK_PATH=/api/tpm/maintenance-tasks

# Kingdee SSO (ERP)
MES_ERP_KINGDEE_BASE_URL=
MES_ERP_KINGDEE_DBID=
MES_ERP_KINGDEE_USERNAME=
MES_ERP_KINGDEE_APPID=
MES_ERP_KINGDEE_APP_SECRET=
MES_ERP_KINGDEE_LCID=
MES_ERP_KINGDEE_WORK_ORDER_ROUTING_FIELD=

# AI Chat Assistant
CHAT_ENABLED=false
CHAT_API_KEY=
CHAT_API_BASE_URL=https://api.openai.com/v1
CHAT_MODEL=gpt-4o-mini
CHAT_SUGGESTIONS_MODEL=gpt-5.1-codex-mini
CHAT_MAX_TOKENS=2048
CHAT_RATE_LIMIT_PER_MINUTE=20
CHAT_TOOLS_ENABLED=false
# Repo/docs snapshot root for tools (production image defaults to /app/repo)
CHAT_REPO_ROOT=
